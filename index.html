<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ø¹Ø·ÙˆØ± Ø§Ù„Ù…Ø­ØªØ±Ù - Ø§ÙƒØªØ´Ù Ø¹Ø·Ø±Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
        }
        .question-card {
            transition: transform 0.5s ease, opacity 0.5s ease;
        }
        .choice-btn {
            transition: all 0.3s ease;
        }
        .choice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
        .perfume-card {
            transition: all 0.3s ease;
        }
        .perfume-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        .composition-bar {
            height: 24px;
            border-radius: 12px;
            overflow: hidden;
        }
        .composition-segment {
            height: 100%;
            display: inline-block;
            vertical-align: top;
        }
        .legend-item {
            display: inline-flex;
            align-items: center;
            margin: 0 12px 8px 0;
        }
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
            margin-left: 8px;
        }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
    <!-- Header -->
    <header class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl font-bold mb-2">ğŸŒº Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ø¹Ø·ÙˆØ± Ø§Ù„Ù…Ø­ØªØ±Ù</h1>
            <p class="text-xl opacity-90">Ø§ÙƒØªØ´Ù Ø¹Ø·Ø±Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù…Ù† Ø®Ù„Ø§Ù„ Ø±Ø­Ù„Ø© Ø´Ø®ØµÙŠØ© Ù…Ù…ÙŠØ²Ø©</p>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="bg-gray-200 dark:bg-gray-800 h-2">
        <div id="progressBar" class="progress-bar bg-gradient-to-r from-purple-600 to-indigo-600 h-2" style="width: 0%"></div>
    </div>

    <!-- Main Container -->
    <main class="container mx-auto px-4 py-12 max-w-6xl">
        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="text-center py-12">
            <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 mb-8 max-w-3xl mx-auto">
                <div class="text-8xl mb-6">ğŸŒŸ</div>
                <h2 class="text-3xl font-bold mb-4">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ø¹Ø·ÙˆØ± Ø§Ù„Ù…Ù…ÙŠØ²</h2>
                <p class="text-xl mb-8 leading-relaxed opacity-80">
                    Ø³Ù†Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø·Ø± Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù„Ø´Ø®ØµÙŠØªÙƒ ÙˆÙ…Ø²Ø§Ø¬Ùƒ Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø¯Ø±ÙˆØ³Ø©ØŒ Ø«Ù… Ù†Ù‚Ø¯Ù… Ù„Ùƒ Ø§Ù‚ØªØ±Ø§Ø­ÙŠÙ† Ù…Ù…ÙŠØ²ÙŠÙ† Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª ÙˆØ§Ù„Ù†Ø³Ø¨
                </p>
                <button onclick="startQuiz()" class="choice-btn bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-12 py-4 rounded-full text-xl font-semibold shadow-lg">
                    Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ø¢Ù† âœ¨
                </button>
            </div>

            <div class="bg-gray-50 dark:bg-gray-800 rounded-2xl p-6 max-w-4xl mx-auto">
                <h3 class="text-2xl font-bold mb-6">Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="text-center p-4">
                        <div class="text-4xl text-purple-600 mb-3"><i class="fas fa-database"></i></div>
                        <h4 class="font-bold text-lg mb-2">Ù‚Ø§Ø¹Ø¯Ø© Ø¹Ø·ÙˆØ± Ø¹Ø§Ù„Ù…ÙŠØ©</h4>
                        <p class="opacity-80">Ø£ÙƒØ«Ø± Ù…Ù† 50 Ø¹Ø·Ø± Ù…Ù† Ø£Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø±ÙƒØ§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</p>
                    </div>
                    <div class="text-center p-4">
                        <div class="text-4xl text-purple-600 mb-3"><i class="fas fa-flask"></i></div>
                        <h4 class="font-bold text-lg mb-2">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª</h4>
                        <p class="opacity-80">ØªÙØµÙŠÙ„ Ù†Ø³Ø¨ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ù„ÙƒÙ„ Ø¹Ø·Ø± Ù…Ù‚ØªØ±Ø­</p>
                    </div>
                    <div class="text-center p-4">
                        <div class="text-4xl text-purple-600 mb-3"><i class="fas fa-heart"></i></div>
                        <h4 class="font-bold text-lg mb-2">Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø®ØµØµØ©</h4>
                        <p class="opacity-80">Ø¹Ø±Ø¶ Ø§Ù‚ØªØ±Ø§Ø­ÙŠÙ† Ù…Ø¹ Ù…Ù‚Ø§Ø±Ù†Ø© ØªÙØµÙŠÙ„ÙŠØ©</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="hidden">
            <div class="flex justify-between mb-4">
                <button onclick="previousQuestion()" id="prevBtn" class="choice-btn bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium hidden">
                    <i class="fas fa-chevron-right ml-2"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
                </button>
                <button onclick="nextQuestion()" id="nextBtn" class="choice-btn bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium hidden">
                    Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-chevron-left ml-2"></i>
                </button>
            </div>

            <div id="questionCard" class="question-card bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 mb-6">
                <div class="text-center mb-8">
                    <span id="questionNumber" class="text-purple-600 font-bold text-lg"></span>
                    <h3 id="questionText" class="text-2xl font-bold mt-2"></h3>
                    <p id="questionSubtext" class="opacity-80 mt-2"></p>
                </div>

                <div id="choicesContainer" class="grid gap-4">
                    <!-- Choices will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="hidden">
            <div class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-3xl shadow-2xl p-8 mb-8 text-center">
                <div class="text-6xl mb-4">ğŸ‰</div>
                <h2 class="text-3xl font-bold mb-4">Ø§ÙƒØªØ´ÙÙ†Ø§ Ø¹Ø·Ø±Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ!</h2>
                <p class="text-xl opacity-90 max-w-3xl mx-auto">Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒØŒ Ø§Ø®ØªØ±Ù†Ø§ Ù„Ùƒ Ø£ÙØ¶Ù„ Ø¹Ø·Ø±ÙŠÙ† ÙŠÙ†Ø§Ø³Ø¨Ø§Ù† Ø´Ø®ØµÙŠØªÙƒ ÙˆÙ…Ø²Ø§Ø¬Ùƒ</p>
            </div>

            <div id="perfumesComparison" class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <!-- Perfume cards will be inserted here -->
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8">
                <h3 class="text-2xl font-bold text-center mb-8">ÙƒÙŠÙ ØªÙÙ‡Ù… Ù†Ø³Ø¨ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§ØªØŸ</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
                    <div class="p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                        <div class="text-3xl text-purple-600 mb-2"><i class="fas fa-tree"></i></div>
                        <h4 class="font-bold">Ø®Ø´Ø¨ÙŠ</h4>
                        <p class="text-sm opacity-80 mt-1">Ø§Ù„Ø¹ÙˆØ¯ØŒ Ø§Ù„ØµÙ†Ø¯Ù„ØŒ Ø§Ù„Ø£Ø±Ø²</p>
                    </div>
                    <div class="p-4 bg-pink-50 dark:bg-pink-900/20 rounded-lg">
                        <div class="text-3xl text-pink-600 mb-2"><i class="fas fa-fan"></i></div>
                        <h4 class="font-bold">Ø²Ù‡Ø±ÙŠ</h4>
                        <p class="text-sm opacity-80 mt-1">Ø§Ù„ÙˆØ±Ø¯ØŒ Ø§Ù„ÙŠØ§Ø³Ù…ÙŠÙ†ØŒ Ø§Ù„Ø²Ù†Ø¨Ù‚</p>
                    </div>
                    <div class="p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg">
                        <div class="text-3xl text-yellow-600 mb-2"><i class="fas fa-lemon"></i></div>
                        <h4 class="font-bold">Ø­Ù…Ø¶ÙŠ</h4>
                        <p class="text-sm opacity-80 mt-1">Ø§Ù„Ù„ÙŠÙ…ÙˆÙ†ØŒ Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ØŒ Ø§Ù„Ø¬Ø±ÙŠØ¨ ÙØ±ÙˆØª</p>
                    </div>
                    <div class="p-4 bg-red-50 dark:bg-red-900/20 rounded-lg">
                        <div class="text-3xl text-red-600 mb-2"><i class="fas fa-pepper-hot"></i></div>
                        <h4 class="font-bold">ØªÙˆÙŠÙ„Ù‰</h4>
                        <p class="text-sm opacity-80 mt-1">Ø§Ù„ÙØ§Ù†ÙŠÙ„ÙŠØ§ØŒ Ø§Ù„Ù‚Ø±ÙØ©ØŒ Ø§Ù„Ø¹Ù†Ø¨Ø±</p>
                    </div>
                </div>

                <div class="text-center mt-12">
                    <button onclick="restartQuiz()" class="choice-btn bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-8 py-4 rounded-full font-semibold shadow-lg">
                        Ø¬Ø±Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ğŸ”„
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-100 dark:bg-gray-800 py-6">
        <div class="container mx-auto px-4 text-center">
            <p class="opacity-70">Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ø¹Ø·ÙˆØ± - Ø§ÙƒØªØ´Ù Ø¹Ø·Ø±Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ ğŸŒº</p>
        </div>
    </footer>

    <script>
        // Dark mode handling
        const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
        function updateDarkMode(e) {
            document.documentElement.classList.toggle('dark', e.matches);
        }
        darkModeMediaQuery.addListener(updateDarkMode);
        updateDarkMode(darkModeMediaQuery);

        const questions = [
            {
                id: 1,
                text: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø¹Ø·Ø± Ø§Ù„Ø°ÙŠ ØªÙØ¶Ù„ØŸ",
                subtext: "Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ",
                choices: [
                    { text: "Ø¹Ø·Ø± Ù†Ø³Ø§Ø¦ÙŠ ğŸ‘©", value: "female", points: { feminine: 3 } },
                    { text: "Ø¹Ø·Ø± Ø±Ø¬Ø§Ù„ÙŠ ğŸ‘¨", value: "male", points: { masculine: 3 } },
                    { text: "Ø¹Ø·Ø± Ù…Ø´ØªØ±Ùƒ (ÙŠÙ†Ø§Ø³Ø¨ Ø§Ù„Ø¬Ù†Ø³ÙŠÙ†)", value: "unisex", points: { neutral: 2 } }
                ]
            },
            {
                id: 2,
                text: "Ù…Ø§ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø§Ù„Ø¹Ø·Ø± Ù…Ù† Ø£Ø¬Ù„Ù‡Ø§ØŸ",
                subtext: "ÙƒÙ„ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù‡Ø§ Ø¹Ø·Ø± Ù…Ù…ÙŠØ²",
                choices: [
                    { text: "Ù„Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© ğŸ’¼", value: "work", points: { professional: 3, light: 2 } },
                    { text: "Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ© ÙˆØ§Ù„Ø­ÙÙ„Ø§Øª ğŸ‰", value: "special", points: { luxury: 3, strong: 2 } },
                    { text: "Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ Ø§Ù„Ø¹Ø§Ø¯ÙŠ ğŸŒ…", value: "daily", points: { casual: 3, moderate: 2 } },
                    { text: "Ù„Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ© ğŸ’•", value: "romantic", points: { romantic: 3, sweet: 2 } }
                ]
            },
            {
                id: 3,
                text: "Ø£ÙŠ Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ø±ÙˆØ§Ø¦Ø­ ØªÙØ¶Ù„ØŸ",
                subtext: "Ø§Ù„Ø±ÙˆØ§Ø¦Ø­ Ø§Ù„Ø­Ø§Ø±Ø© ØªØ¹Ø·ÙŠ Ø¯ÙØ¡ØŒ ÙˆØ§Ù„Ø¨Ø§Ø±Ø¯Ø© ØªØ¹Ø·ÙŠ Ø§Ù†ØªØ¹Ø§Ø´",
                choices: [
                    { text: "Ø§Ù„Ø±ÙˆØ§Ø¦Ø­ Ø§Ù„Ø­Ø§Ø±Ø© (Ø§Ù„Ù‚Ø±ÙØ©ØŒ Ø§Ù„ÙØ§Ù†ÙŠÙ„ÙŠØ§ØŒ Ø§Ù„Ø¹ÙˆØ¯) ğŸ”¥", value: "warm", points: { warm: 3, spicy: 2 } },
                    { text: "Ø§Ù„Ø±ÙˆØ§Ø¦Ø­ Ø§Ù„Ø¨Ø§Ø±Ø¯Ø© (Ø§Ù„Ù†Ø¹Ù†Ø§Ø¹ØŒ Ø§Ù„Ù„ÙŠÙ…ÙˆÙ†ØŒ Ø§Ù„Ø¨Ø­Ø±) â„ï¸", value: "cool", points: { fresh: 3, citrus: 2 } },
                    { text: "Ø§Ù„Ø±ÙˆØ§Ø¦Ø­ Ø§Ù„Ù…ØªÙˆØ§Ø²Ù†Ø© (Ø§Ù„ÙˆØ±Ø¯ØŒ Ø§Ù„ÙŠØ§Ø³Ù…ÙŠÙ†) ğŸŒ¸", value: "balanced", points: { floral: 3, balanced: 2 } }
                ]
            },
            {
                id: 4,
                text: "ÙƒÙŠÙ ØªØµÙ Ø­Ø§Ù„ØªÙƒ Ø§Ù„Ù†ÙØ³ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ØŸ",
                subtext: "Ø§Ù„Ø¹Ø·Ø± ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø²Ø§Ø¬ ÙˆÙŠØ¹ÙƒØ³ Ø§Ù„Ø´Ø®ØµÙŠØ©",
                choices: [
                    { text: "Ù‡Ø§Ø¯Ø¦ ÙˆÙ…Ø³ØªØ±Ø®ÙŠ ğŸ§˜", value: "calm", points: { calm: 3, soft: 2 } },
                    { text: "Ù†Ø´ÙŠØ· ÙˆÙ…ØªØ­Ù…Ø³ âš¡", value: "energetic", points: { energetic: 3, vibrant: 2 } },
                    { text: "Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ ÙˆØ­Ø§Ù„Ù… ğŸ’­", value: "dreamy", points: { romantic: 2, dreamy: 3 } },
                    { text: "ÙˆØ§Ø«Ù‚ ÙˆÙ‚ÙˆÙŠ ğŸ’ª", value: "confident", points: { confident: 3, bold: 2 } }
                ]
            },
            {
                id: 5,
                text: "Ù…Ø§ Ù‚ÙˆØ© Ø§Ù„Ø¹Ø·Ø± Ø§Ù„ØªÙŠ ØªÙØ¶Ù„Ù‡Ø§ØŸ",
                subtext: "Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø´Ø®Ø§Øµ ÙŠÙØ¶Ù„ÙˆÙ† Ø§Ù„Ø¹Ø·ÙˆØ± Ø§Ù„Ø®ÙÙŠÙØ©ØŒ ÙˆØ§Ù„Ø¨Ø¹Ø¶ ÙŠÙØ¶Ù„ Ø§Ù„Ù‚ÙˆÙŠØ©",
                choices: [
                    { text: "Ø®ÙÙŠÙ ÙˆÙ…Ù†Ø¹Ø´ ğŸŒ¬ï¸", value: "light", points: { light: 3, subtle: 2 } },
                    { text: "Ù…ØªÙˆØ³Ø· Ø§Ù„Ù‚ÙˆØ© âš–ï¸", value: "medium", points: { moderate: 3, balanced: 1 } },
                    { text: "Ù‚ÙˆÙŠ ÙˆØ«Ø§Ø¨Øª ğŸ’¥", value: "strong", points: { strong: 3, intense: 2 } }
                ]
            },
            {
                id: 6,
                text: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª ØªÙØ¶Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ø·Ø± ÙÙŠÙ‡ØŸ",
                subtext: "ÙƒÙ„ ÙˆÙ‚Øª Ù„Ù‡ Ø¹Ø·Ø± Ù…Ù†Ø§Ø³Ø¨",
                choices: [
                    { text: "ÙÙŠ Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ± ğŸŒ…", value: "morning", points: { fresh: 2, energetic: 1 } },
                    { text: "ÙÙŠ ÙØªØ±Ø© Ø§Ù„Ø¸Ù‡ÙŠØ±Ø© â˜€ï¸", value: "afternoon", points: { balanced: 2, moderate: 1 } },
                    { text: "ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¡ ÙˆØ§Ù„Ù„ÙŠÙ„ ğŸŒ™", value: "evening", points: { warm: 2, romantic: 1, luxury: 1 } }
                ]
            },
            {
                id: 7,
                text: "Ù…Ø§ Ù‡ÙŠ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ù„Ù„Ø¹Ø·Ø±ØŸ",
                subtext: "Ø³ÙŠØ³Ø§Ø¹Ø¯Ù†Ø§ Ø°Ù„Ùƒ ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø·Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ø³Ø¹Ø±Ùƒ",
                choices: [
                    { text: "Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ù…Ø­Ø¯ÙˆØ¯Ø© (ØªØ­Øª 50 Ø¯ÙˆÙ„Ø§Ø±) ğŸ’µ", value: "low", points: { casual: 2, light: 1 } },
                    { text: "Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ù…ØªÙˆØ³Ø·Ø© (50-150 Ø¯ÙˆÙ„Ø§Ø±) ğŸ’°", value: "medium", points: { balanced: 2, moderate: 2 } },
                    { text: "Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø¹Ø§Ù„ÙŠØ© (Ø£ÙƒØ«Ø± Ù…Ù† 150 Ø¯ÙˆÙ„Ø§Ø±) ğŸ’", value: "high", points: { luxury: 3, strong: 2 } }
                ]
            },
            {
                id: 8,
                text: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…ÙˆØ³Ù… Ø§Ù„Ø°ÙŠ ØªÙØ¶Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ø·Ø± ÙÙŠÙ‡ØŸ",
                subtext: "Ø§Ù„Ø¹Ø·ÙˆØ± ØªØ®ØªÙ„Ù ÙØ¹Ø§Ù„ÙŠØªÙ‡Ø§ Ø¨Ø§Ø®ØªÙ„Ø§Ù Ø§Ù„ÙØµÙˆÙ„",
                choices: [
                    { text: "Ø§Ù„Ø±Ø¨ÙŠØ¹ ğŸŒ¸", value: "spring", points: { floral: 3, fresh: 2 } },
                    { text: "Ø§Ù„ØµÙŠÙ â˜€ï¸", value: "summer", points: { citrus: 3, fresh: 3, light: 2 } },
                    { text: "Ø§Ù„Ø®Ø±ÙŠÙ ğŸ‚", value: "autumn", points: { woody: 3, warm: 2 } },
                    { text: "Ø§Ù„Ø´ØªØ§Ø¡ â„ï¸", value: "winter", points: { spicy: 3, warm: 3, strong: 2 } }
                ]
            }
        ];

        const perfumes = [
            // Ø¹Ø·ÙˆØ± Ø±Ø¬Ø§Ù„ÙŠØ©
            {
                id: "bleu-de-chanel",
                name: "Ø¨Ù„Ùˆ Ø¯Ùˆ Ø´Ø§Ù†ÙŠÙ„",
                englishName: "Bleu de Chanel",
                brand: "Chanel",
                category: "Ø±Ø¬Ø§Ù„ÙŠ ÙØ§Ø®Ø±",
                gender: "male",
                description: "Ø¹Ø·Ø± ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø¯Ø§Ø«Ø© ÙˆØ§Ù„Ø£ØµØ§Ù„Ø©ØŒ ÙŠØ¹Ø¨Ø± Ø¹Ù† Ø§Ù„Ø±Ø¬Ù„ Ø§Ù„ÙˆØ§Ø«Ù‚ Ù…Ù† Ù†ÙØ³Ù‡.",
                notes: ["Ø§Ù„Ø¬Ø±ÙŠØ¨ ÙØ±ÙˆØª", "Ø§Ù„ÙÙ„ÙÙ„ Ø§Ù„ÙˆØ±Ø¯ÙŠ", "Ø§Ù„Ø²Ù†Ø¬Ø¨ÙŠÙ„", "Ø®Ø´Ø¨ Ø§Ù„ØµÙ†Ø¯Ù„", "Ø§Ù„Ø¹Ù†Ø¨Ø±", "Ø£Ø®Ø´Ø§Ø¨ Ø§Ù„Ø£Ø±Ø²"],
                occasion: "Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©ØŒ Ø§Ù„Ø¹Ù…Ù„ØŒ Ø§Ù„Ø£Ù…Ø³ÙŠØ§Øª",
                personality: "ÙˆØ§Ø«Ù‚ØŒ Ø£Ù†ÙŠÙ‚ØŒ Ø¹ØµØ±ÙŠ",
                longevity: "8-10 Ø³Ø§Ø¹Ø§Øª",
                sillage: "Ù‚ÙˆÙŠ",
                year: 2010,
                points: { masculine: 4, confident: 3, professional: 2, fresh: 2, woody: 3, citrus: 2, strong: 2, modern: 3 },
                composition: { woody: 40, citrus: 25, spicy: 20, fresh: 10, amber: 5 }
            },
            {
                id: "aventus",
                name: "Ø£ÙÙŠÙ†ØªÙˆØ³",
                englishName: "Creed Aventus",
                brand: "Creed",
                category: "Ø±Ø¬Ø§Ù„ÙŠ ÙØ§Ø®Ø±",
                gender: "male",
                description: "Ø¹Ø·Ø± Ø£Ø³Ø·ÙˆØ±ÙŠ ÙŠÙ…Ø«Ù„ Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ù†Ø¬Ø§Ø­ ÙˆØ§Ù„Ø·Ù…ÙˆØ­.",
                notes: ["Ø§Ù„Ø£Ù†Ø§Ù†Ø§Ø³", "Ø§Ù„ØªÙØ§Ø­", "Ø§Ù„Ø¨Ø±ØºÙ…ÙˆØª", "Ø§Ù„Ø¨ØªØ´ÙˆÙ„", "Ø§Ù„ÙØ§Ù†ÙŠÙ„ÙŠØ§", "Ø§Ù„Ø¹ÙˆØ¯"],
                occasion: "Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø©ØŒ Ø§Ù„Ø£Ù…Ø³ÙŠØ§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©",
                personality: "Ø·Ù…ÙˆØ­ØŒ Ù‚ÙŠØ§Ø¯ÙŠØŒ Ù†Ø§Ø¬Ø­",
                longevity: "10+ Ø³Ø§Ø¹Ø§Øª",
                sillage: "Ù‚ÙˆÙŠ Ø¬Ø¯Ø§Ù‹",
                year: 2010,
                points: { masculine: 5, confident: 4, luxury: 3, ambitious: 4, strong: 3, fruity: 3, woody: 2, modern: 3 },
                composition: { fruity: 35, woody: 30, musky: 15, fresh: 10, spicy: 10 }
            },

            // Ø¹Ø·ÙˆØ± Ù†Ø³Ø§Ø¦ÙŠØ©
            {
                id: "jadore",
                name: "Ø¬Ø§Ø¯ÙˆØ±",
                englishName: "J'adore",
                brand: "Dior",
                category: "Ù†Ø³Ø§Ø¦ÙŠ ÙØ§Ø®Ø±",
                gender: "female",
                description: "Ø¹Ø·Ø± Ø£Ù†Ø«ÙˆÙŠ Ø³Ø§Ø­Ø± ÙŠØ¬Ø³Ø¯ Ø§Ù„Ø¬Ù…Ø§Ù„ ÙˆØ§Ù„Ø£Ù†Ø§Ù‚Ø©.",
                notes: ["Ø§Ù„ÙŠÙ„Ø§Ù†Ø¬ ÙŠÙ„Ø§Ù†Ø¬", "Ø§Ù„ÙˆØ±Ø¯", "Ø§Ù„Ø¨Ø±Ù‚ÙˆÙ‚", "Ø®Ø´Ø¨ Ø§Ù„Ø£Ø±Ø²", "Ø§Ù„Ù…Ø³Ùƒ"],
                occasion: "Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ©ØŒ Ø§Ù„Ø­ÙÙ„Ø§ØªØŒ Ø§Ù„Ø£Ù…Ø³ÙŠØ§Øª",
                personality: "Ø£Ù†ÙŠÙ‚Ø©ØŒ ÙˆØ§Ø«Ù‚Ø©ØŒ Ù…ØªØ£Ù„Ù‚Ø©",
                longevity: "6-8 Ø³Ø§Ø¹Ø§Øª",
                sillage: "Ù…ØªÙˆØ³Ø·",
                year: 1999,
                points: { feminine: 5, elegant: 4, romantic: 3, floral: 4, luxury: 3, warm: 2, confident: 3 },
                composition: { floral: 50, fruity: 25, woody: 15, musk: 10 }
            },
            {
                id: "coco-mademoiselle",
                name: "ÙƒÙˆÙƒÙˆ Ù…Ø§Ø¯Ù…ÙˆØ§Ø²ÙŠÙ„",
                englishName: "Coco Mademoiselle",
                brand: "Chanel",
                category: "Ù†Ø³Ø§Ø¦ÙŠ ÙØ§Ø®Ø±",
                gender: "female",
                description: "Ø¹Ø·Ø± Ø­Ø± ÙˆØ£Ù†ÙŠÙ‚ ÙŠØ¹Ø¨Ø± Ø¹Ù† Ø§Ù„Ù…Ø±Ø£Ø© Ø§Ù„Ø¹ØµØ±ÙŠØ© Ø§Ù„Ù…Ø³ØªÙ‚Ù„Ø©.",
                notes: ["Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„", "Ø§Ù„ÙŠØ§Ø³Ù…ÙŠÙ†", "Ø§Ù„Ø¨Ø§ØªØ´ÙˆÙ„ÙŠ", "Ø§Ù„ÙØ§Ù†ÙŠÙ„ÙŠØ§", "Ø®Ø´Ø¨ Ø§Ù„Ø£Ø¨Ù†ÙˆØ³"],
                occasion: "Ø§Ù„Ø¹Ù…Ù„ØŒ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©ØŒ Ø§Ù„Ø£Ù…Ø³ÙŠØ§Øª",
                personality: "ÙˆØ§Ø«Ù‚Ø©ØŒ Ù…Ø³ØªÙ‚Ù„Ø©ØŒ Ø¹ØµØ±ÙŠØ©",
                longevity: "8+ Ø³Ø§Ø¹Ø§Øª",
                sillage: "Ù‚ÙˆÙŠ",
                year: 2001,
                points: { feminine: 4, confident: 3, elegant: 3, modern: 3, sophisticated: 2, professional: 2, citrus: 2 },
                composition: { floral: 40, citrus: 25, woody: 20, oriental: 10, sweet: 5 }
            },

            // Ø¹Ø·ÙˆØ± Ù…Ø´ØªØ±ÙƒØ©
            {
                id: "santal-33",
                name: "Ø³Ø§Ù†ØªØ§Ù„ 33",
                englishName: "Le Labo Santal 33",
                brand: "Le Labo",
                category: "Ù…Ø´ØªØ±Ùƒ ÙØ§Ø®Ø±",
                gender: "unisex",
                description: "Ø¹Ø·Ø± Ø£ÙŠÙ‚ÙˆÙ†ÙŠ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø¯ÙØ¡ Ø§Ù„Ø®Ø´Ø¨ ÙˆØ§Ù„ØªÙˆØ§Ø¨Ù„ ÙÙŠ ØªØ±ÙƒÙŠØ¨Ø© ÙØ±ÙŠØ¯Ø©.",
                notes: ["Ø®Ø´Ø¨ Ø§Ù„ØµÙ†Ø¯Ù„", "Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ø¨Ø±ØºÙ…ÙˆØª", "Ø§Ù„ÙÙ„ÙÙ„", "Ø§Ù„ÙÙŠÙˆÙ„ÙŠØª", "Ø§Ù„Ø¬Ù„Ø¯", "Ø§Ù„Ø¹Ù†Ø¨Ø±"],
                occasion: "Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØŒ Ø§Ù„Ø¹Ù…Ù„ØŒ Ø§Ù„Ø£Ù…Ø³ÙŠØ§Øª",
                personality: "Ø¹ØµØ±ÙŠØŒ Ù…Ø³ØªÙ‚Ù„ØŒ Ù…Ø«Ù‚Ù",
                longevity: "8-10 Ø³Ø§Ø¹Ø§Øª",
                sillage: "Ù…ØªÙˆØ³Ø·",
                year: 2011,
                points: { unisex: 5, modern: 4, woody: 4, sophisticated: 3, confident: 2, urban: 4, unique: 3 },
                composition: { woody: 45, spicy: 20, leather: 15, floral: 10, musky: 10 }
            },
            {
                id: "english-pear",
                name: "ÙƒÙ…Ø«Ø±Ù‰ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",
                englishName: "Jo Malone English Pear & Freesia",
                brand: "Jo Malone",
                category: "Ù…Ø´ØªØ±Ùƒ Ù…Ù†Ø¹Ø´",
                gender: "unisex",
                description: "Ø¹Ø·Ø± Ù…Ù†Ø¹Ø´ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ù†Ø¶Ø§Ø±Ø© Ø§Ù„ÙƒÙ…Ø«Ø±Ù‰ ÙˆØ±ÙˆØ¹Ø© Ø§Ù„Ø²Ù†Ø§Ø¨Ù‚ Ø§Ù„Ø¨Ø±ÙŠØ©.",
                notes: ["Ø§Ù„ÙƒÙ…Ø«Ø±Ù‰", "Ø§Ù„Ø²Ù†Ø§Ø¨Ù‚", "Ø§Ù„Ù…Ø³Ùƒ", "Ø®Ø´Ø¨ Ø§Ù„Ø£Ø±Ø²", "Ø§Ù„Ø¹Ù†Ø¨Ø±"],
                occasion: "Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØŒ Ø§Ù„ØµØ¨Ø§Ø­ØŒ Ø§Ù„Ø±Ø¨ÙŠØ¹ ÙˆØ§Ù„ØµÙŠÙ",
                personality: "Ø·Ø¨ÙŠØ¹ÙŠØŒ Ù‡Ø§Ø¯Ø¦ØŒ Ø£Ù†ÙŠÙ‚",
                longevity: "4-6 Ø³Ø§Ø¹Ø§Øª",
                sillage: "Ø®ÙÙŠÙ",
                year: 2010,
                points: { unisex: 4, fresh: 4, elegant: 2, casual: 3, light: 3, fruity: 3, floral: 2, clean: 3 },
                composition: { fruity: 40, floral: 25, woody: 20, musky: 10, fresh: 5 }
            }
        ];

        let currentQuestion = 0;
        let userAnswers = {};
        let userPoints = {};
        let userPreferences = {};

        function startQuiz() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('quizContainer').classList.remove('hidden');
            showQuestion(0);
            updateProgress();
        }

        function showQuestion(index) {
            const question = questions[index];
            document.getElementById('questionNumber').textContent = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${index + 1} Ù…Ù† ${questions.length}`;
            document.getElementById('questionText').textContent = question.text;
            document.getElementById('questionSubtext').textContent = question.subtext;

            const choicesContainer = document.getElementById('choicesContainer');
            choicesContainer.innerHTML = '';
            choicesContainer.className = `grid gap-4 ${question.choices.length > 2 ? 'md:grid-cols-2' : ''}`;

            question.choices.forEach((choice, i) => {
                const btn = document.createElement('button');
                btn.className = 'choice-btn bg-white dark:bg-gray-800 hover:bg-purple-50 dark:hover:bg-gray-700 text-gray-800 dark:text-white p-6 rounded-2xl text-lg font-medium text-right border-2 border-transparent hover:border-purple-600';
                btn.innerHTML = choice.text;
                btn.onclick = () => selectChoice(index, i);
                choicesContainer.appendChild(btn);
            });

            updateNavigationButtons();
        }

        function selectChoice(questionIndex, choiceIndex) {
            const question = questions[questionIndex];
            const choice = question.choices[choiceIndex];
            
            userAnswers[questionIndex] = choice;
            
            for (const [key, value] of Object.entries(choice.points)) {
                userPoints[key] = (userPoints[key] || 0) + value;
            }

            if (question.id === 1) userPreferences.gender = choice.value;
            if (question.id === 2) userPreferences.occasion = choice.value;
            if (question.id === 5) userPreferences.strength = choice.value;
            if (question.id === 7) userPreferences.budget = choice.value;
            if (question.id === 8) userPreferences.season = choice.value;

            if (questionIndex < questions.length - 1) {
                currentQuestion++;
                setTimeout(() => {
                    showQuestion(currentQuestion);
                    updateProgress();
                }, 300);
            } else {
                setTimeout(showResults, 300);
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.classList.toggle('hidden', currentQuestion === 0);
            nextBtn.classList.toggle('hidden', currentQuestion === questions.length - 1);
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
                updateProgress();
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
                updateProgress();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }

        function showResults() {
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            const results = calculateBestMatches(userPoints, userPreferences);
            displayPerfumes(results);
        }

        function calculateBestMatches(points, preferences) {
            let filteredPerfumes = perfumes.filter(p => 
                (preferences.gender === 'unisex' || p.gender === preferences.gender) &&
                (preferences.budget === 'high' || !['high'].includes(p.points.luxury) || preferences.budget !== 'low')
            );

            const scoredPerfumes = filteredPerfumes.map(p => {
                let score = 0;
                for (const [key, value] of Object.entries(p.points)) {
                    score += (points[key] || 0) * value;
                }

                if (preferences.occasion && p.points[preferences.occasion]) score += 5;
                if (preferences.season && p.points[preferences.season]) score += 5;
                if (preferences.strength && p.points[preferences.strength]) score += 5;

                return { ...p, score };
            });

            return scoredPerfumes
                .sort((a, b) => b.score - a.score)
                .slice(0, 2);
        }

        function displayPerfumes(perfumes) {
            const container = document.getElementById('perfumesComparison');
            container.innerHTML = '';

            perfumes.forEach((perfume, index) => {
                const card = document.createElement('div');
                card.className = 'perfume-card bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <span class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-xs px-3 py-1 rounded-full">
                                ${index === 0 ? 'Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„' : 'Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ'}
                            </span>
                            <h3 class="text-2xl font-bold mt-2">${perfume.name}</h3>
                            <p class="text-gray-600 dark:text-gray-400">${perfume.englishName}</p>
                        </div>
                        <div class="bg-gray-100 dark:bg-gray-700 rounded-full w-16 h-16 flex items-center justify-center text-2xl">
                            ${index + 1}
                        </div>
                    </div>

                    <p class="text-lg mb-6 leading-relaxed opacity-90">${perfume.description}</p>

                    <div class="grid grid-cols-2 gap-4 mb-8">
                        <div class="bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4">
                            <h4 class="font-bold">Ø§Ù„ÙØ¦Ø©</h4>
                            <p class="opacity-80">${perfume.category}</p>
                        </div>
                        <div class="bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4">
                            <h4 class="font-bold">Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©</h4>
                            <p class="opacity-80">${perfume.occasion}</p>
                        </div>
                        <div class="bg-pink-50 dark:bg-pink-900/20 rounded-lg p-4">
                            <h4 class="font-bold">Ø§Ù„Ø«Ø¨Ø§Øª</h4>
                            <p class="opacity-80">${perfume.longevity}</p>
                        </div>
                        <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
                            <h4 class="font-bold">Ø§Ù„Ø§Ù†ØªØ´Ø§Ø±</h4>
                            <p class="opacity-80">${perfume.sillage}</p>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h4 class="font-bold text-xl mb-4">ØªØ±ÙƒÙŠØ¨Ø© Ø§Ù„Ø¹Ø·Ø±</h4>
                        <div class="composition-bar bg-gray-200 dark:bg-gray-700 mb-4">
                            ${createCompositionHtml(perfume.composition)}
                        </div>
                        <div class="text-center">
                            ${createLegendHtml(perfume.composition)}
                        </div>
                    </div>

                    <div>
                        <h4 class="font-bold text-xl mb-4">Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h4>
                        <div class="flex flex-wrap gap-2">
                            ${perfume.notes.map(note => `<span class="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-3 py-1 rounded-full text-sm">${note}</span>`).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function createCompositionHtml(composition) {
            const total = Object.values(composition).reduce((sum, val) => sum + val, 0);
            return Object.entries(composition).map(([key, value]) => {
                const color = getColorForCategory(key);
                const width = (value / total) * 100;
                return `<div class="composition-segment" style="width: ${width}%; background-color: ${color}"></div>`;
            }).join('');
        }

        function createLegendHtml(composition) {
            return Object.entries(composition).map(([key, value]) => {
                if (value === 0) return '';
                const { name, color, icon } = getCategoryDetails(key);
                return `
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: ${color}"></span>
                        <span>${icon} ${name} (${value}%)</span>
                    </div>
                `;
            }).join('');
        }

        function getColorForCategory(category) {
            const colors = {
                woody: '#84CC16',
                citrus: '#FBBF24',
                spicy: '#EF4444',
                fresh: '#22D3EE',
                floral: '#F9A8D4',
                musky: '#A78BFA',
                amber: '#F59E0B',
                leather: '#D97706',
                sweet: '#F97316',
                fruity: '#A855F7'
            };
            return colors[category] || '#CBD5E0';
        }

        function getCategoryDetails(category) {
            const categories = {
                woody: { name: 'Ø®Ø´Ø¨ÙŠ', color: '#84CC16', icon: 'ğŸŒ³' },
                citrus: { name: 'Ø­Ù…Ø¶ÙŠ', color: '#FBBF24', icon: 'ğŸ‹' },
                spicy: { name: 'ØªÙˆØ§Ø¨Ù„', color: '#EF4444', icon: 'ğŸŒ¶ï¸' },
                fresh: { name: 'Ù…Ù†Ø¹Ø´', color: '#22D3EE', icon: 'ğŸ’§' },
                floral: { name: 'Ø²Ù‡Ø±ÙŠ', color: '#F9A8D4', icon: 'ğŸŒ¸' },
                musky: { name: 'Ù…Ø³ÙƒÙŠ', color: '#A78BFA', icon: 'ğŸ¦£' },
                amber: { name: 'Ø¹Ù†Ø¨Ø±ÙŠ', color: '#F59E0B', icon: '
\<Streaming stoppped because the conversation grew too long for this model\>
