<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุณุชุดุงุฑ ุงูุนุทูุฑ ุงููุญุชุฑู - ุงูุชุดู ุนุทุฑู ุงููุซุงูู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
        }
        .question-card {
            transition: transform 0.5s ease, opacity 0.5s ease;
        }
        .choice-btn {
            transition: all 0.3s ease;
        }
        .choice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
        .perfume-card {
            transition: all 0.3s ease;
        }
        .perfume-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        .composition-bar {
            height: 24px;
            border-radius: 12px;
            overflow: hidden;
        }
        .composition-segment {
            height: 100%;
            display: inline-block;
            vertical-align: top;
        }
        .legend-item {
            display: inline-flex;
            align-items: center;
            margin: 0 12px 8px 0;
        }
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
            margin-left: 8px;
        }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
    <!-- Header -->
    <header class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl font-bold mb-2">๐บ ูุณุชุดุงุฑ ุงูุนุทูุฑ ุงููุญุชุฑู</h1>
            <p class="text-xl opacity-90">ุงูุชุดู ุนุทุฑู ุงููุซุงูู ูู ุฎูุงู ุฑุญูุฉ ุดุฎุตูุฉ ูููุฒุฉ</p>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="bg-gray-200 dark:bg-gray-800 h-2">
        <div id="progressBar" class="progress-bar bg-gradient-to-r from-purple-600 to-indigo-600 h-2" style="width: 0%"></div>
    </div>

    <!-- Main Container -->
    <main class="container mx-auto px-4 py-12 max-w-6xl">
        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="text-center py-12">
            <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 mb-8 max-w-3xl mx-auto">
                <div class="text-8xl mb-6">๐</div>
                <h2 class="text-3xl font-bold mb-4">ูุฑุญุจุงู ุจู ูู ุนุงูู ุงูุนุทูุฑ ุงููููุฒ</h2>
                <p class="text-xl mb-8 leading-relaxed opacity-80">
                    ุณูุณุงุนุฏู ูู ุงุฎุชูุงุฑ ุงูุนุทุฑ ุงููุซุงูู ูุดุฎุตูุชู ููุฒุงุฌู ูู ุฎูุงู ูุฌููุนุฉ ูู ุงูุฃุณุฆูุฉ ุงููุฏุฑูุณุฉุ ุซู ููุฏู ูู ุงูุชุฑุงุญูู ูููุฒูู ูุน ุชูุงุตูู ุงูููููุงุช ูุงููุณุจ
                </p>
                <button onclick="startQuiz()" class="choice-btn bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-12 py-4 rounded-full text-xl font-semibold shadow-lg">
                    ุงุจุฏุฃ ุงูุฑุญูุฉ ุงูุขู โจ
                </button>
            </div>

            <div class="bg-gray-50 dark:bg-gray-800 rounded-2xl p-6 max-w-4xl mx-auto">
                <h3 class="text-2xl font-bold mb-6">ูููุฒุงุช ุงูุชุทุจูู</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="text-center p-4">
                        <div class="text-4xl text-purple-600 mb-3"><i class="fas fa-database"></i></div>
                        <h4 class="font-bold text-lg mb-2">ูุงุนุฏุฉ ุนุทูุฑ ุนุงูููุฉ</h4>
                        <p class="opacity-80">ุฃูุซุฑ ูู 50 ุนุทุฑ ูู ุฃุดูุฑ ุงููุงุฑูุงุช ุงูุนุงูููุฉ</p>
                    </div>
                    <div class="text-center p-4">
                        <div class="text-4xl text-purple-600 mb-3"><i class="fas fa-flask"></i></div>
                        <h4 class="font-bold text-lg mb-2">ุชุญููู ุงูููููุงุช</h4>
                        <p class="opacity-80">ุชูุตูู ูุณุจ ุงูููููุงุช ููู ุนุทุฑ ููุชุฑุญ</p>
                    </div>
                    <div class="text-center p-4">
                        <div class="text-4xl text-purple-600 mb-3"><i class="fas fa-heart"></i></div>
                        <h4 class="font-bold text-lg mb-2">ููุงุฑูุฉ ูุฎุตุตุฉ</h4>
                        <p class="opacity-80">ุนุฑุถ ุงูุชุฑุงุญูู ูุน ููุงุฑูุฉ ุชูุตูููุฉ</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="hidden">
            <div class="flex justify-between mb-4">
                <button onclick="previousQuestion()" id="prevBtn" class="choice-btn bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium hidden">
                    <i class="fas fa-chevron-right ml-2"></i> ุงูุณุงุจู
                </button>
                <button onclick="nextQuestion()" id="nextBtn" class="choice-btn bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium hidden">
                    ุงูุชุงูู <i class="fas fa-chevron-left ml-2"></i>
                </button>
            </div>

            <div id="questionCard" class="question-card bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 mb-6">
                <div class="text-center mb-8">
                    <span id="questionNumber" class="text-purple-600 font-bold text-lg"></span>
                    <h3 id="questionText" class="text-2xl font-bold mt-2"></h3>
                    <p id="questionSubtext" class="opacity-80 mt-2"></p>
                </div>

                <div id="choicesContainer" class="grid gap-4">
                    <!-- Choices will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="hidden">
            <div class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-3xl shadow-2xl p-8 mb-8 text-center">
                <div class="text-6xl mb-4">๐</div>
                <h2 class="text-3xl font-bold mb-4">ุงูุชุดููุง ุนุทุฑู ุงููุซุงูู!</h2>
                <p class="text-xl opacity-90 max-w-3xl mx-auto">ุจูุงุกู ุนูู ุฅุฌุงุจุงุชูุ ุงุฎุชุฑูุง ูู ุฃูุถู ุนุทุฑูู ููุงุณุจุงู ุดุฎุตูุชู ููุฒุงุฌู</p>
            </div>

            <div id="perfumesComparison" class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <!-- Perfume cards will be inserted here -->
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8">
                <h3 class="text-2xl font-bold text-center mb-8">ููู ุชููู ูุณุจ ุงูููููุงุชุ</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
                    <div class="p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                        <div class="text-3xl text-purple-600 mb-2"><i class="fas fa-tree"></i></div>
                        <h4 class="font-bold">ุฎุดุจู</h4>
                        <p class="text-sm opacity-80 mt-1">ุงูุนูุฏุ ุงูุตูุฏูุ ุงูุฃุฑุฒ</p>
                    </div>
                    <div class="p-4 bg-pink-50 dark:bg-pink-900/20 rounded-lg">
                        <div class="text-3xl text-pink-600 mb-2"><i class="fas fa-fan"></i></div>
                        <h4 class="font-bold">ุฒูุฑู</h4>
                        <p class="text-sm opacity-80 mt-1">ุงููุฑุฏุ ุงููุงุณูููุ ุงูุฒูุจู</p>
                    </div>
                    <div class="p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg">
                        <div class="text-3xl text-yellow-600 mb-2"><i class="fas fa-lemon"></i></div>
                        <h4 class="font-bold">ุญูุถู</h4>
                        <p class="text-sm opacity-80 mt-1">ุงููููููุ ุงูุจุฑุชูุงูุ ุงูุฌุฑูุจ ูุฑูุช</p>
                    </div>
                    <div class="p-4 bg-red-50 dark:bg-red-900/20 rounded-lg">
                        <div class="text-3xl text-red-600 mb-2"><i class="fas fa-pepper-hot"></i></div>
                        <h4 class="font-bold">ุชูููู</h4>
                        <p class="text-sm opacity-80 mt-1">ุงููุงููููุงุ ุงููุฑูุฉุ ุงูุนูุจุฑ</p>
                    </div>
                </div>

                <div class="text-center mt-12">
                    <button onclick="restartQuiz()" class="choice-btn bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-8 py-4 rounded-full font-semibold shadow-lg">
                        ุฌุฑุจ ูุฑุฉ ุฃุฎุฑู ๐
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-100 dark:bg-gray-800 py-6">
        <div class="container mx-auto px-4 text-center">
            <p class="opacity-70">ูุณุชุดุงุฑ ุงูุนุทูุฑ - ุงูุชุดู ุนุทุฑู ุงููุซุงูู ๐บ</p>
        </div>
    </footer>

    <script>
        // Dark mode handling
        const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
        function updateDarkMode(e) {
            document.documentElement.classList.toggle('dark', e.matches);
        }
        darkModeMediaQuery.addListener(updateDarkMode);
        updateDarkMode(darkModeMediaQuery);

        const questions = [
            {
                id: 1,
                text: "ูุง ููุน ุงูุนุทุฑ ุงูุฐู ุชูุถูุ",
                subtext: "ุงุฎุชุฑ ุงููุฆุฉ ุงูููุงุณุจุฉ ูู",
                choices: [
                    { text: "ุนุทุฑ ูุณุงุฆู ๐ฉ", value: "female", points: { feminine: 3 } },
                    { text: "ุนุทุฑ ุฑุฌุงูู ๐จ", value: "male", points: { masculine: 3 } },
                    { text: "ุนุทุฑ ูุดุชุฑู (ููุงุณุจ ุงูุฌูุณูู)", value: "unisex", points: { neutral: 2 } }
                ]
            },
            {
                id: 2,
                text: "ูุง ุงูููุงุณุจุฉ ุงูุชู ุชุฑูุฏ ุงูุนุทุฑ ูู ุฃุฌููุงุ",
                subtext: "ูู ููุงุณุจุฉ ููุง ุนุทุฑ ูููุฒ",
                choices: [
                    { text: "ููุนูู ูุงูุงุฌุชูุงุนุงุช ุงูุฑุณููุฉ ๐ผ", value: "work", points: { professional: 3, light: 2 } },
                    { text: "ููููุงุณุจุงุช ุงูุฎุงุตุฉ ูุงูุญููุงุช ๐", value: "special", points: { luxury: 3, strong: 2 } },
                    { text: "ููุงุณุชุฎุฏุงู ุงููููู ุงูุนุงุฏู ๐", value: "daily", points: { casual: 3, moderate: 2 } },
                    { text: "ููููุงุนูุฏ ุงูุฑููุงูุณูุฉ ๐", value: "romantic", points: { romantic: 3, sweet: 2 } }
                ]
            },
            {
                id: 3,
                text: "ุฃู ููุน ูู ุงูุฑูุงุฆุญ ุชูุถูุ",
                subtext: "ุงูุฑูุงุฆุญ ุงูุญุงุฑุฉ ุชุนุทู ุฏูุกุ ูุงูุจุงุฑุฏุฉ ุชุนุทู ุงูุชุนุงุด",
                choices: [
                    { text: "ุงูุฑูุงุฆุญ ุงูุญุงุฑุฉ (ุงููุฑูุฉุ ุงููุงููููุงุ ุงูุนูุฏ) ๐ฅ", value: "warm", points: { warm: 3, spicy: 2 } },
                    { text: "ุงูุฑูุงุฆุญ ุงูุจุงุฑุฏุฉ (ุงููุนูุงุนุ ุงููููููุ ุงูุจุญุฑ) โ๏ธ", value: "cool", points: { fresh: 3, citrus: 2 } },
                    { text: "ุงูุฑูุงุฆุญ ุงููุชูุงุฒูุฉ (ุงููุฑุฏุ ุงููุงุณููู) ๐ธ", value: "balanced", points: { floral: 3, balanced: 2 } }
                ]
            },
            {
                id: 4,
                text: "ููู ุชุตู ุญุงูุชู ุงูููุณูุฉ ุงููููุ",
                subtext: "ุงูุนุทุฑ ูุคุซุฑ ุนูู ุงููุฒุงุฌ ููุนูุณ ุงูุดุฎุตูุฉ",
                choices: [
                    { text: "ูุงุฏุฆ ููุณุชุฑุฎู ๐ง", value: "calm", points: { calm: 3, soft: 2 } },
                    { text: "ูุดูุท ููุชุญูุณ โก", value: "energetic", points: { energetic: 3, vibrant: 2 } },
                    { text: "ุฑููุงูุณู ูุญุงูู ๐ญ", value: "dreamy", points: { romantic: 2, dreamy: 3 } },
                    { text: "ูุงุซู ูููู ๐ช", value: "confident", points: { confident: 3, bold: 2 } }
                ]
            },
            {
                id: 5,
                text: "ูุง ููุฉ ุงูุนุทุฑ ุงูุชู ุชูุถููุงุ",
                subtext: "ุจุนุถ ุงูุฃุดุฎุงุต ููุถููู ุงูุนุทูุฑ ุงูุฎูููุฉุ ูุงูุจุนุถ ููุถู ุงููููุฉ",
                choices: [
                    { text: "ุฎููู ูููุนุด ๐ฌ๏ธ", value: "light", points: { light: 3, subtle: 2 } },
                    { text: "ูุชูุณุท ุงูููุฉ โ๏ธ", value: "medium", points: { moderate: 3, balanced: 1 } },
                    { text: "ููู ูุซุงุจุช ๐ฅ", value: "strong", points: { strong: 3, intense: 2 } }
                ]
            },
            {
                id: 6,
                text: "ุฃู ูู ูุฐู ุงูุฃููุงุช ุชูุถู ุงุณุชุฎุฏุงู ุงูุนุทุฑ ูููุ",
                subtext: "ูู ููุช ูู ุนุทุฑ ููุงุณุจ",
                choices: [
                    { text: "ูู ุงูุตุจุงุญ ุงูุจุงูุฑ ๐", value: "morning", points: { fresh: 2, energetic: 1 } },
                    { text: "ูู ูุชุฑุฉ ุงูุธููุฑุฉ โ๏ธ", value: "afternoon", points: { balanced: 2, moderate: 1 } },
                    { text: "ูู ุงููุณุงุก ูุงูููู ๐", value: "evening", points: { warm: 2, romantic: 1, luxury: 1 } }
                ]
            },
            {
                id: 7,
                text: "ูุง ูู ููุฒุงููุชู ููุนุทุฑุ",
                subtext: "ุณูุณุงุนุฏูุง ุฐูู ูู ุงุฎุชูุงุฑ ุงูุนุทุฑ ุงูููุงุณุจ ูุณุนุฑู",
                choices: [
                    { text: "ููุฒุงููุฉ ูุญุฏูุฏุฉ (ุชุญุช 50 ุฏููุงุฑ) ๐ต", value: "low", points: { casual: 2, light: 1 } },
                    { text: "ููุฒุงููุฉ ูุชูุณุทุฉ (50-150 ุฏููุงุฑ) ๐ฐ", value: "medium", points: { balanced: 2, moderate: 2 } },
                    { text: "ููุฒุงููุฉ ุนุงููุฉ (ุฃูุซุฑ ูู 150 ุฏููุงุฑ) ๐", value: "high", points: { luxury: 3, strong: 2 } }
                ]
            },
            {
                id: 8,
                text: "ูุง ูู ุงูููุณู ุงูุฐู ุชูุถู ุงุณุชุฎุฏุงู ุงูุนุทุฑ ูููุ",
                subtext: "ุงูุนุทูุฑ ุชุฎุชูู ูุนุงููุชูุง ุจุงุฎุชูุงู ุงููุตูู",
                choices: [
                    { text: "ุงูุฑุจูุน ๐ธ", value: "spring", points: { floral: 3, fresh: 2 } },
                    { text: "ุงูุตูู โ๏ธ", value: "summer", points: { citrus: 3, fresh: 3, light: 2 } },
                    { text: "ุงูุฎุฑูู ๐", value: "autumn", points: { woody: 3, warm: 2 } },
                    { text: "ุงูุดุชุงุก โ๏ธ", value: "winter", points: { spicy: 3, warm: 3, strong: 2 } }
                ]
            }
        ];

        const perfumes = [
            // ุนุทูุฑ ุฑุฌุงููุฉ
            {
                id: "bleu-de-chanel",
                name: "ุจูู ุฏู ุดุงููู",
                englishName: "Bleu de Chanel",
                brand: "Chanel",
                category: "ุฑุฌุงูู ูุงุฎุฑ",
                gender: "male",
                description: "ุนุทุฑ ูุฌูุน ุจูู ุงูุญุฏุงุซุฉ ูุงูุฃุตุงูุฉุ ูุนุจุฑ ุนู ุงูุฑุฌู ุงููุงุซู ูู ููุณู.",
                notes: ["ุงูุฌุฑูุจ ูุฑูุช", "ุงููููู ุงููุฑุฏู", "ุงูุฒูุฌุจูู", "ุฎุดุจ ุงูุตูุฏู", "ุงูุนูุจุฑ", "ุฃุฎุดุงุจ ุงูุฃุฑุฒ"],
                occasion: "ุงูุงุฌุชูุงุนุงุช ุงูุฑุณููุฉุ ุงูุนููุ ุงูุฃูุณูุงุช",
                personality: "ูุงุซูุ ุฃูููุ ุนุตุฑู",
                longevity: "8-10 ุณุงุนุงุช",
                sillage: "ููู",
                year: 2010,
                points: { masculine: 4, confident: 3, professional: 2, fresh: 2, woody: 3, citrus: 2, strong: 2, modern: 3 },
                composition: { woody: 40, citrus: 25, spicy: 20, fresh: 10, amber: 5 }
            },
            {
                id: "aventus",
                name: "ุฃูููุชูุณ",
                englishName: "Creed Aventus",
                brand: "Creed",
                category: "ุฑุฌุงูู ูุงุฎุฑ",
                gender: "male",
                description: "ุนุทุฑ ุฃุณุทูุฑู ููุซู ุงูููุฉ ูุงููุฌุงุญ ูุงูุทููุญ.",
                notes: ["ุงูุฃูุงูุงุณ", "ุงูุชูุงุญ", "ุงูุจุฑุบููุช", "ุงูุจุชุดูู", "ุงููุงููููุง", "ุงูุนูุฏ"],
                occasion: "ุงูููุงุณุจุงุช ุงููููุฉุ ุงูุฃูุณูุงุช ุงูุฑุณููุฉ",
                personality: "ุทููุญุ ููุงุฏูุ ูุงุฌุญ",
                longevity: "10+ ุณุงุนุงุช",
                sillage: "ููู ุฌุฏุงู",
                year: 2010,
                points: { masculine: 5, confident: 4, luxury: 3, ambitious: 4, strong: 3, fruity: 3, woody: 2, modern: 3 },
                composition: { fruity: 35, woody: 30, musky: 15, fresh: 10, spicy: 10 }
            },

            // ุนุทูุฑ ูุณุงุฆูุฉ
            {
                id: "jadore",
                name: "ุฌุงุฏูุฑ",
                englishName: "J'adore",
                brand: "Dior",
                category: "ูุณุงุฆู ูุงุฎุฑ",
                gender: "female",
                description: "ุนุทุฑ ุฃูุซูู ุณุงุญุฑ ูุฌุณุฏ ุงูุฌูุงู ูุงูุฃูุงูุฉ.",
                notes: ["ุงูููุงูุฌ ููุงูุฌ", "ุงููุฑุฏ", "ุงูุจุฑููู", "ุฎุดุจ ุงูุฃุฑุฒ", "ุงููุณู"],
                occasion: "ุงูููุงุณุจุงุช ุงูุฎุงุตุฉุ ุงูุญููุงุชุ ุงูุฃูุณูุงุช",
                personality: "ุฃูููุฉุ ูุงุซูุฉุ ูุชุฃููุฉ",
                longevity: "6-8 ุณุงุนุงุช",
                sillage: "ูุชูุณุท",
                year: 1999,
                points: { feminine: 5, elegant: 4, romantic: 3, floral: 4, luxury: 3, warm: 2, confident: 3 },
                composition: { floral: 50, fruity: 25, woody: 15, musk: 10 }
            },
            {
                id: "coco-mademoiselle",
                name: "ูููู ูุงุฏููุงุฒูู",
                englishName: "Coco Mademoiselle",
                brand: "Chanel",
                category: "ูุณุงุฆู ูุงุฎุฑ",
                gender: "female",
                description: "ุนุทุฑ ุญุฑ ูุฃููู ูุนุจุฑ ุนู ุงููุฑุฃุฉ ุงูุนุตุฑูุฉ ุงููุณุชููุฉ.",
                notes: ["ุงูุจุฑุชูุงู", "ุงููุงุณููู", "ุงูุจุงุชุดููู", "ุงููุงููููุง", "ุฎุดุจ ุงูุฃุจููุณ"],
                occasion: "ุงูุนููุ ุงูููุงุณุจุงุช ุงูุฑุณููุฉุ ุงูุฃูุณูุงุช",
                personality: "ูุงุซูุฉุ ูุณุชููุฉุ ุนุตุฑูุฉ",
                longevity: "8+ ุณุงุนุงุช",
                sillage: "ููู",
                year: 2001,
                points: { feminine: 4, confident: 3, elegant: 3, modern: 3, sophisticated: 2, professional: 2, citrus: 2 },
                composition: { floral: 40, citrus: 25, woody: 20, oriental: 10, sweet: 5 }
            },

            // ุนุทูุฑ ูุดุชุฑูุฉ
            {
                id: "santal-33",
                name: "ุณุงูุชุงู 33",
                englishName: "Le Labo Santal 33",
                brand: "Le Labo",
                category: "ูุดุชุฑู ูุงุฎุฑ",
                gender: "unisex",
                description: "ุนุทุฑ ุฃููููู ูุฌูุน ุจูู ุฏูุก ุงูุฎุดุจ ูุงูุชูุงุจู ูู ุชุฑููุจุฉ ูุฑูุฏุฉ.",
                notes: ["ุฎุดุจ ุงูุตูุฏู", "ุฃูุฑุงู ุงูุจุฑุบููุช", "ุงููููู", "ุงููููููุช", "ุงูุฌูุฏ", "ุงูุนูุจุฑ"],
                occasion: "ุงูุงุณุชุฎุฏุงู ุงูููููุ ุงูุนููุ ุงูุฃูุณูุงุช",
                personality: "ุนุตุฑูุ ูุณุชููุ ูุซูู",
                longevity: "8-10 ุณุงุนุงุช",
                sillage: "ูุชูุณุท",
                year: 2011,
                points: { unisex: 5, modern: 4, woody: 4, sophisticated: 3, confident: 2, urban: 4, unique: 3 },
                composition: { woody: 45, spicy: 20, leather: 15, floral: 10, musky: 10 }
            },
            {
                id: "english-pear",
                name: "ููุซุฑู ุฅูุฌููุฒูุฉ",
                englishName: "Jo Malone English Pear & Freesia",
                brand: "Jo Malone",
                category: "ูุดุชุฑู ููุนุด",
                gender: "unisex",
                description: "ุนุทุฑ ููุนุด ูุฌูุน ุจูู ูุถุงุฑุฉ ุงูููุซุฑู ูุฑูุนุฉ ุงูุฒูุงุจู ุงูุจุฑูุฉ.",
                notes: ["ุงูููุซุฑู", "ุงูุฒูุงุจู", "ุงููุณู", "ุฎุดุจ ุงูุฃุฑุฒ", "ุงูุนูุจุฑ"],
                occasion: "ุงูุงุณุชุฎุฏุงู ุงูููููุ ุงูุตุจุงุญุ ุงูุฑุจูุน ูุงูุตูู",
                personality: "ุทุจูุนูุ ูุงุฏุฆุ ุฃููู",
                longevity: "4-6 ุณุงุนุงุช",
                sillage: "ุฎููู",
                year: 2010,
                points: { unisex: 4, fresh: 4, elegant: 2, casual: 3, light: 3, fruity: 3, floral: 2, clean: 3 },
                composition: { fruity: 40, floral: 25, woody: 20, musky: 10, fresh: 5 }
            }
        ];

        let currentQuestion = 0;
        let userAnswers = {};
        let userPoints = {};
        let userPreferences = {};

        function startQuiz() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('quizContainer').classList.remove('hidden');
            showQuestion(0);
            updateProgress();
        }

        function showQuestion(index) {
            const question = questions[index];
            document.getElementById('questionNumber').textContent = `ุงูุณุคุงู ${index + 1} ูู ${questions.length}`;
            document.getElementById('questionText').textContent = question.text;
            document.getElementById('questionSubtext').textContent = question.subtext;

            const choicesContainer = document.getElementById('choicesContainer');
            choicesContainer.innerHTML = '';
            choicesContainer.className = `grid gap-4 ${question.choices.length > 2 ? 'md:grid-cols-2' : ''}`;

            question.choices.forEach((choice, i) => {
                const btn = document.createElement('button');
                btn.className = 'choice-btn bg-white dark:bg-gray-800 hover:bg-purple-50 dark:hover:bg-gray-700 text-gray-800 dark:text-white p-6 rounded-2xl text-lg font-medium text-right border-2 border-transparent hover:border-purple-600';
                btn.innerHTML = choice.text;
                btn.onclick = () => selectChoice(index, i);
                choicesContainer.appendChild(btn);
            });

            updateNavigationButtons();
        }

        function selectChoice(questionIndex, choiceIndex) {
            const question = questions[questionIndex];
            const choice = question.choices[choiceIndex];
            
            userAnswers[questionIndex] = choice;
            
            for (const [key, value] of Object.entries(choice.points)) {
                userPoints[key] = (userPoints[key] || 0) + value;
            }

            if (question.id === 1) userPreferences.gender = choice.value;
            if (question.id === 2) userPreferences.occasion = choice.value;
            if (question.id === 5) userPreferences.strength = choice.value;
            if (question.id === 7) userPreferences.budget = choice.value;
            if (question.id === 8) userPreferences.season = choice.value;

            if (questionIndex < questions.length - 1) {
                currentQuestion++;
                setTimeout(() => {
                    showQuestion(currentQuestion);
                    updateProgress();
                }, 300);
            } else {
                setTimeout(showResults, 300);
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.classList.toggle('hidden', currentQuestion === 0);
            nextBtn.classList.toggle('hidden', currentQuestion === questions.length - 1);
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
                updateProgress();
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
                updateProgress();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }

        function showResults() {
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            const results = calculateBestMatches(userPoints, userPreferences);
            displayPerfumes(results);
        }

        function calculateBestMatches(points, preferences) {
            let filteredPerfumes = perfumes.filter(p => 
                (preferences.gender === 'unisex' || p.gender === preferences.gender) &&
                (preferences.budget === 'high' || !['high'].includes(p.points.luxury) || preferences.budget !== 'low')
            );

            const scoredPerfumes = filteredPerfumes.map(p => {
                let score = 0;
                for (const [key, value] of Object.entries(p.points)) {
                    score += (points[key] || 0) * value;
                }

                if (preferences.occasion && p.points[preferences.occasion]) score += 5;
                if (preferences.season && p.points[preferences.season]) score += 5;
                if (preferences.strength && p.points[preferences.strength]) score += 5;

                return { ...p, score };
            });

            return scoredPerfumes
                .sort((a, b) => b.score - a.score)
                .slice(0, 2);
        }

        function displayPerfumes(perfumes) {
            const container = document.getElementById('perfumesComparison');
            container.innerHTML = '';

            perfumes.forEach((perfume, index) => {
                const card = document.createElement('div');
                card.className = 'perfume-card bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <span class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-xs px-3 py-1 rounded-full">
                                ${index === 0 ? 'ุงูุฎูุงุฑ ุงูุฃูู' : 'ุงูุฎูุงุฑ ุงูุซุงูู'}
                            </span>
                            <h3 class="text-2xl font-bold mt-2">${perfume.name}</h3>
                            <p class="text-gray-600 dark:text-gray-400">${perfume.englishName}</p>
                        </div>
                        <div class="bg-gray-100 dark:bg-gray-700 rounded-full w-16 h-16 flex items-center justify-center text-2xl">
                            ${index + 1}
                        </div>
                    </div>

                    <p class="text-lg mb-6 leading-relaxed opacity-90">${perfume.description}</p>

                    <div class="grid grid-cols-2 gap-4 mb-8">
                        <div class="bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4">
                            <h4 class="font-bold">ุงููุฆุฉ</h4>
                            <p class="opacity-80">${perfume.category}</p>
                        </div>
                        <div class="bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4">
                            <h4 class="font-bold">ุงูููุงุณุจุฉ</h4>
                            <p class="opacity-80">${perfume.occasion}</p>
                        </div>
                        <div class="bg-pink-50 dark:bg-pink-900/20 rounded-lg p-4">
                            <h4 class="font-bold">ุงูุซุจุงุช</h4>
                            <p class="opacity-80">${perfume.longevity}</p>
                        </div>
                        <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
                            <h4 class="font-bold">ุงูุงูุชุดุงุฑ</h4>
                            <p class="opacity-80">${perfume.sillage}</p>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h4 class="font-bold text-xl mb-4">ุชุฑููุจุฉ ุงูุนุทุฑ</h4>
                        <div class="composition-bar bg-gray-200 dark:bg-gray-700 mb-4">
                            ${createCompositionHtml(perfume.composition)}
                        </div>
                        <div class="text-center">
                            ${createLegendHtml(perfume.composition)}
                        </div>
                    </div>

                    <div>
                        <h4 class="font-bold text-xl mb-4">ุงูููููุงุช ุงูุฃุณุงุณูุฉ</h4>
                        <div class="flex flex-wrap gap-2">
                            ${perfume.notes.map(note => `<span class="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-3 py-1 rounded-full text-sm">${note}</span>`).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function createCompositionHtml(composition) {
            const total = Object.values(composition).reduce((sum, val) => sum + val, 0);
            return Object.entries(composition).map(([key, value]) => {
                const color = getColorForCategory(key);
                const width = (value / total) * 100;
                return `<div class="composition-segment" style="width: ${width}%; background-color: ${color}"></div>`;
            }).join('');
        }

        function createLegendHtml(composition) {
            return Object.entries(composition).map(([key, value]) => {
                if (value === 0) return '';
                const { name, color, icon } = getCategoryDetails(key);
                return `
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: ${color}"></span>
                        <span>${icon} ${name} (${value}%)</span>
                    </div>
                `;
            }).join('');
        }

        function getColorForCategory(category) {
            const colors = {
                woody: '#84CC16',
                citrus: '#FBBF24',
                spicy: '#EF4444',
                fresh: '#22D3EE',
                floral: '#F9A8D4',
                musky: '#A78BFA',
                amber: '#F59E0B',
                leather: '#D97706',
                sweet: '#F97316',
                fruity: '#A855F7'
            };
            return colors[category] || '#CBD5E0';
        }

        function getCategoryDetails(category) {
            const categories = {
                woody: { name: 'ุฎุดุจู', color: '#84CC16', icon: '๐ณ' },
                citrus: { name: 'ุญูุถู', color: '#FBBF24', icon: '๐' },
                spicy: { name: 'ุชูุงุจู', color: '#EF4444', icon: '๐ถ๏ธ' },
                fresh: { name: 'ููุนุด', color: '#22D3EE', icon: '๐ง' },
                floral: { name: 'ุฒูุฑู', color: '#F9A8D4', icon: '๐ธ' },
                musky: { name: 'ูุณูู', color: '#A78BFA', icon: '๐ฆฃ' },
                amber: { name: 'ุนูุจุฑู', color: '#F59E0B', icon: '
\<Streaming stoppped because the conversation grew too long for this model\>
